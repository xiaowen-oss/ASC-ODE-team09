

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Q4: 3D Version: Experiment with different mechanical structures &#8212; ASC-ODE Documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'ex20_q4';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Exercise 20.4.1" href="ex20.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/ASC_Logo_transparent_300ppi_RGB.png" class="logo__image only-light" alt="ASC-ODE Documentation - Home"/>
    <script>document.write(`<img src="_static/ASC_Logo_transparent_300ppi_RGB.png" class="logo__image only-dark" alt="ASC-ODE Documentation - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to ASC-ODE’s documentation!
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="ex1_title.html">Exercise 1 (Due 24.11.2025)</a></li>
<li class="toctree-l1"><a class="reference internal" href="ex17.2.2.html">Exercise 17.2.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="ex17.4.1.html">Exercise 17.4.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="ex2_title.html">Exercise 2 (Due 01.12.2025)</a></li>
<li class="toctree-l1"><a class="reference internal" href="ex17.4.1_q4.html">Exercise 17.4.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="ex18.4.html">Exercise 18.4</a></li>
<li class="toctree-l1"><a class="reference internal" href="ex18.5.html">Exercise 18.5</a></li>
<li class="toctree-l1"><a class="reference internal" href="ex19.4.html">Exercise 19.4</a></li>
<li class="toctree-l1"><a class="reference internal" href="ex3_title.html">Exercise 3 (Due 09.12.2025)</a></li>
<li class="toctree-l1"><a class="reference internal" href="ex20.html">Exercise 20.4.1</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Q4: 3D Version: Experiment with different mechanical structures</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/ex20_q4.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Q4: 3D Version: Experiment with different mechanical structures</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#model-1-extend-the-double-pendulum-to-a-chain">Model 1 : Extend the double-pendulum to a chain</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chain-with-spring">Chain with spring</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chain-with-constaint">Chain with constaint</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#model-2-crane-structure-and-vibration">Model 2 :  Crane Structure and Vibration</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#model-3-replace-the-springs-of-the-double-pendulum-by-distance-constraints">Model 3 : Replace the Springs of the Double-Pendulum by Distance Constraints</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#model-4-spinning-top">Model 4 : Spinning top</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="q4-3d-version-experiment-with-different-mechanical-structures">
<h1>Q4: 3D Version: Experiment with different mechanical structures<a class="headerlink" href="#q4-3d-version-experiment-with-different-mechanical-structures" title="Permalink to this heading">#</a></h1>
<section id="model-1-extend-the-double-pendulum-to-a-chain">
<h2>Model 1 : Extend the double-pendulum to a chain<a class="headerlink" href="#model-1-extend-the-double-pendulum-to-a-chain" title="Permalink to this heading">#</a></h2>
<p><em>Complete code – chian with springs is in ‘chain_spring.ipynb’</em></p>
<p><em>Complete code – chain with constraints is in ‘chain_constraint.ipynb’</em></p>
</section>
<section id="chain-with-spring">
<h2>Chain with spring<a class="headerlink" href="#chain-with-spring" title="Permalink to this heading">#</a></h2>
<p>Assume the quantity of each mass: 1, length of the spring:1, the spring constant:1000, still fixed point at the origin.</p>
<p>We only need to change the geometry part. Here we write a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop to add more masses and springs:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#create for loop</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N_MASSES</span><span class="p">):</span>
    
    <span class="n">initial_pos</span> <span class="o">=</span> <span class="p">(</span><span class="n">SPRING_LENGTH</span> <span class="o">*</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
    
    <span class="c1"># add new mass</span>
    <span class="n">current_mass_connector</span> <span class="o">=</span> <span class="n">mss</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Mass</span><span class="p">(</span><span class="n">MASS_VAL</span><span class="p">,</span> <span class="n">initial_pos</span><span class="p">))</span> 
    
    <span class="c1"># add new spring</span>
    <span class="n">mss</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Spring</span><span class="p">(</span><span class="n">SPRING_LENGTH</span><span class="p">,</span> 
                   <span class="n">SPRING_STIFFNESS</span><span class="p">,</span> 
                   <span class="p">(</span><span class="n">previous_connector</span><span class="p">,</span> <span class="n">current_mass_connector</span><span class="p">)))</span>
    
    <span class="c1"># refresh</span>
    <span class="n">previous_connector</span> <span class="o">=</span> <span class="n">current_mass_connector</span>

</pre></div>
</div>
<p>Such that everytime, we only need to change <code class="docutils literal notranslate"><span class="pre">N_MASSES</span></code></p>
<p><strong>Test 1</strong>: When mass = 5</p>
<video width="600" controls>
  <source src="_static/chain_spring5.mp4" type="video/mp4">
</video>
<p><strong>Test 2</strong>: When mass = 10</p>
<video width="600" controls>
  <source src="_static/chain_spring10.mp4" type="video/mp4">
</video>
</section>
<hr class="docutils" />
<section id="chain-with-constaint">
<h2>Chain with constaint<a class="headerlink" href="#chain-with-constaint" title="Permalink to this heading">#</a></h2>
<p>Similarly, we write a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop to add mass and constraint.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N_MASSES</span><span class="p">):</span>
    <span class="n">initial_pos</span> <span class="o">=</span> <span class="p">(</span><span class="n">LINK_LENGTH</span> <span class="o">*</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
    
    <span class="c1"># add new mass</span>
    <span class="n">current_mass_connector</span> <span class="o">=</span> <span class="n">mss</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Mass</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">initial_pos</span><span class="p">))</span> 
    
    <span class="c1"># add new constraint and connet it to the previous mass</span>
    <span class="n">dc</span> <span class="o">=</span> <span class="n">DistanceConstraint</span><span class="p">(</span><span class="n">previous_connector</span><span class="p">,</span> <span class="n">current_mass_connector</span><span class="p">,</span> <span class="n">LINK_LENGTH</span><span class="p">)</span>
    <span class="n">mss</span><span class="o">.</span><span class="n">addDistanceConstraint</span><span class="p">(</span><span class="n">dc</span><span class="p">)</span>
    
    <span class="c1"># refresh</span>
    <span class="n">previous_connector</span> <span class="o">=</span> <span class="n">current_mass_connector</span>

</pre></div>
</div>
<p>Such that everytime, we only need to change <code class="docutils literal notranslate"><span class="pre">N_MASSES</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">N_MASSES</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">LINK_LENGTH</span> <span class="o">=</span> <span class="mf">1.0</span>
</pre></div>
</div>
<p><strong>Test 1</strong>: When mass = 5</p>
<video width="600" controls>
  <source src="_static/chain.mp4" type="video/mp4">
</video>
<p><strong>Test 2</strong>: When mass = 10</p>
<video width="600" controls>
  <source src="_static/chain10.mp4" type="video/mp4">
</video>
<p>Reuslt:</p>
<ul class="simple">
<li><p>With larger masses, the system begins to approximate a continuous body (such as a soft rope or a whip).</p></li>
<li><p>The end mass resembling the tip of a whip, characterized by the propagation of waves and accelerated whipping motion.</p></li>
<li><p>The hole system will turn slow, bulk oscillation, and faster, small-scale localized twisting and vibrational patterns emerging throughout the chain.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="model-2-crane-structure-and-vibration">
<h2>Model 2 :  Crane Structure and Vibration<a class="headerlink" href="#model-2-crane-structure-and-vibration" title="Permalink to this heading">#</a></h2>
<p><em>Complete code – ‘crane.ipynb’</em></p>
<p>In this section, we build a complex mechanical structure (a crane) by using the Mass-Spring System combined with Lagrangian Constraints.</p>
<ol class="arabic">
<li><p><strong>Model Construction Strategy</strong></p>
<p>We implemented a <code class="docutils literal notranslate"><span class="pre">build_crane</span></code> function in Python. The structure consists of two main types of connections:</p>
<ul class="simple">
<li><p>Rigid Beams: Modeled using <code class="docutils literal notranslate"><span class="pre">DistanceConstraint</span></code>. We want the frame of the crane to be rigid and not oscillate like jelly.</p></li>
<li><p>Cables (Elastic): Modeled using <code class="docutils literal notranslate"><span class="pre">Spring</span></code>. We want to observe vibration when lifting a mass.</p></li>
</ul>
<p>We defined a helper function to easily switch between these two types:</p>
</li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">add_beam</span><span class="p">(</span><span class="n">mss</span><span class="p">,</span> <span class="n">node1</span><span class="p">,</span> <span class="n">node2</span><span class="p">,</span> <span class="n">length</span><span class="p">,</span> <span class="n">stiffness</span><span class="p">,</span> <span class="n">use_constraint</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">use_constraint</span><span class="p">:</span>
        <span class="c1"># Use Lagrangian constraint for rigid parts (Steel)</span>
        <span class="n">dc</span> <span class="o">=</span> <span class="n">DistanceConstraint</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span> <span class="n">node2</span><span class="p">,</span> <span class="n">length</span><span class="p">)</span>
        <span class="n">mss</span><span class="o">.</span><span class="n">addDistanceConstraint</span><span class="p">(</span><span class="n">dc</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Use Spring for elastic parts (Cables/Rubber)</span>
        <span class="n">mss</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Spring</span><span class="p">(</span><span class="n">length</span><span class="p">,</span> <span class="n">stiffness</span><span class="p">,</span> <span class="p">(</span><span class="n">node1</span><span class="p">,</span> <span class="n">node2</span><span class="p">)))</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p><strong>Building the Geometry</strong></p></li>
</ol>
<p>The crane consists of a vertical tower (10 floors) and a horizontal arm (6 units). To ensure structural stability we added crossed diagonal supports to every face.</p>
<p>① The tower loop:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">floors</span><span class="p">):</span>
    <span class="c1"># ... (node creation logic) ...</span>
    <span class="c1"># connecting floors</span>
    <span class="n">add_beam</span><span class="p">(</span><span class="n">mss</span><span class="p">,</span> <span class="n">c_curr</span><span class="p">,</span> <span class="n">c_next</span><span class="p">,</span> <span class="n">L</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">use_constraint</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1">#vertical union</span>
    <span class="n">add_beam</span><span class="p">(</span><span class="n">mss</span><span class="p">,</span> <span class="n">c_next</span><span class="p">,</span> <span class="n">c_next_neighbor</span><span class="p">,</span> <span class="n">L</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">use_constraint</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1">#horizontal union</span>
    
    <span class="n">diag_len</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="n">L</span> 
    <span class="n">add_beam</span><span class="p">(</span><span class="n">mss</span><span class="p">,</span> <span class="n">c_curr</span><span class="p">,</span> <span class="n">c_next_neighbor</span><span class="p">,</span> <span class="n">diag_len</span><span class="p">,</span> <span class="n">stiffness_beam</span><span class="p">,</span> <span class="n">use_constraint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1">#diagonal (X shape) for stability</span>
</pre></div>
</div>
<p>The stiffness for the structural parts is 0 because their rigidity will be actually being defined by the Lagrange Constraints, while for the elastic springs we fixed a value <code class="docutils literal notranslate"><span class="pre">stiffness_beam=</span> <span class="pre">5000</span></code>. We coded the arm loop analougsly.</p>
<p>② The Load and Cables:</p>
<p>We attach a heavy mass (<span class="math notranslate nohighlight">\(m=5.0\)</span>) to the tip of the arm using elastic springs (stiffness_cable = 3000.0). This way we introduce the vibration.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cables attached to the tip of the arm</span>
<span class="n">mss</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Spring</span><span class="p">(</span><span class="n">dist_h</span><span class="p">,</span> <span class="n">stiffness_cable</span><span class="p">,</span> <span class="p">(</span><span class="n">tip_node_1</span><span class="p">,</span> <span class="n">load_mass</span><span class="p">)))</span>
<span class="n">mss</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Spring</span><span class="p">(</span><span class="n">dist_h</span><span class="p">,</span> <span class="n">stiffness_cable</span><span class="p">,</span> <span class="p">(</span><span class="n">tip_node_2</span><span class="p">,</span> <span class="n">load_mass</span><span class="p">)))</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p><strong>Simulation and Visualization</strong></p></li>
</ol>
<p>To visualize the movement smoothly, we modified the simulation loop in the Jupyter Notebook. Since the code with the Lagrange Constraints is computationally heavy, we decouple the physics steps from the rendering steps using <code class="docutils literal notranslate"><span class="pre">steps_per_frame</span></code> so the computer do not struggle that much to calculate the physics and draw the crane quickly at the same time.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">steps_per_frame</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1">#render 1 frame every 2 physics calculations</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
    <span class="n">mss</span><span class="o">.</span><span class="n">simulate</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> 

    <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="n">steps_per_frame</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="c1"># we just actualise the graphic positions when we plot (1 over 2)</span>
        <span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p><strong>Result</strong></p></li>
</ol>
<p>The simulation shows the crane structure remaining rigid due to the DistanceConstraints (orange lines), while the load and arm bounce realistically due to the Springs (cyan lines).</p>
<video width="600" controls>
  <source src="_static/crane_simulation.mp4" type="video/mp4">
</video>
</section>
<hr class="docutils" />
<section id="model-3-replace-the-springs-of-the-double-pendulum-by-distance-constraints">
<h2>Model 3 : Replace the Springs of the Double-Pendulum by Distance Constraints<a class="headerlink" href="#model-3-replace-the-springs-of-the-double-pendulum-by-distance-constraints" title="Permalink to this heading">#</a></h2>
<p><em>Complete code – ‘dist_constraints.ipynb’</em></p>
<p>In the original 3D mass–spring example, the double pendulum is modeled using two springs:</p>
<ul class="simple">
<li><p>one connecting the fixed point to the first mass,</p></li>
<li><p>one connecting the first mass to the second mass.</p></li>
</ul>
<p>In this task, we remove the springs entirely and replace them with <strong>holonomic distance constraints</strong> enforcing:</p>
<div class="math notranslate nohighlight">
\[
\|x_i - x_j\| = L_0.
\]</div>
<p>This converts the system from a soft spring model into a rigid “rod-like” double pendulum where the distances remain constant throughout the simulation.</p>
<ol class="arabic simple">
<li><p>Remove the springs</p></li>
</ol>
<p>The original example contained:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mss</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Spring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">200000</span><span class="p">,</span> <span class="p">(</span><span class="n">f1</span><span class="p">,</span> <span class="n">mA</span><span class="p">)))</span>
<span class="n">mss</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Spring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100000</span><span class="p">,</span> <span class="p">(</span><span class="n">mA</span><span class="p">,</span> <span class="n">mB</span><span class="p">)))</span>
</pre></div>
</div>
<p>These are completely removed.</p>
<ol class="arabic simple" start="2">
<li><p>To avoid external forces at initialization, the rest-lengths are computed directly from the initial distances:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">distance</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">((</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span>
            <span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span>
            <span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span> <span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>

<span class="n">L1</span> <span class="o">=</span> <span class="n">distance</span><span class="p">(</span><span class="n">mss</span><span class="o">.</span><span class="n">fixes</span><span class="p">[</span><span class="n">f1</span><span class="o">.</span><span class="n">nr</span><span class="p">]</span><span class="o">.</span><span class="n">pos</span><span class="p">,</span> <span class="n">mss</span><span class="o">.</span><span class="n">masses</span><span class="p">[</span><span class="n">mA</span><span class="o">.</span><span class="n">nr</span><span class="p">]</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span>
<span class="n">L2</span> <span class="o">=</span> <span class="n">distance</span><span class="p">(</span><span class="n">mss</span><span class="o">.</span><span class="n">masses</span><span class="p">[</span><span class="n">mA</span><span class="o">.</span><span class="n">nr</span><span class="p">]</span><span class="o">.</span><span class="n">pos</span><span class="p">,</span> <span class="n">mss</span><span class="o">.</span><span class="n">masses</span><span class="p">[</span><span class="n">mB</span><span class="o">.</span><span class="n">nr</span><span class="p">]</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Add distance constraints</p></li>
</ol>
<p>Using <code class="docutils literal notranslate"><span class="pre">DistanceConstraint</span></code> springs are removed and replaced by fixed-length distance constraints.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dc1</span> <span class="o">=</span> <span class="n">DistanceConstraint</span><span class="p">(</span><span class="n">f1</span><span class="p">,</span> <span class="n">mA</span><span class="p">,</span> <span class="n">L1</span><span class="p">)</span>
<span class="n">mss</span><span class="o">.</span><span class="n">addDistanceConstraint</span><span class="p">(</span><span class="n">dc1</span><span class="p">)</span>

<span class="n">dc2</span> <span class="o">=</span> <span class="n">DistanceConstraint</span><span class="p">(</span><span class="n">mA</span><span class="p">,</span> <span class="n">mB</span><span class="p">,</span> <span class="n">L2</span><span class="p">)</span>
<span class="n">mss</span><span class="o">.</span><span class="n">addDistanceConstraint</span><span class="p">(</span><span class="n">dc2</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Constraint segments are drawn the same way as springs, but stay at a fixed length:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">springpos</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">mss</span><span class="o">.</span><span class="n">constraints</span><span class="p">:</span>
    <span class="n">pA</span> <span class="o">=</span> <span class="n">mss</span><span class="o">.</span><span class="n">fixes</span><span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">c1</span><span class="o">.</span><span class="n">nr</span><span class="p">]</span><span class="o">.</span><span class="n">pos</span> <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">c1</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">mss</span><span class="o">.</span><span class="n">masses</span><span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">c1</span><span class="o">.</span><span class="n">nr</span><span class="p">]</span><span class="o">.</span><span class="n">pos</span>
    <span class="n">pB</span> <span class="o">=</span> <span class="n">mss</span><span class="o">.</span><span class="n">fixes</span><span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">c2</span><span class="o">.</span><span class="n">nr</span><span class="p">]</span><span class="o">.</span><span class="n">pos</span> <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">c2</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">mss</span><span class="o">.</span><span class="n">masses</span><span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">c2</span><span class="o">.</span><span class="n">nr</span><span class="p">]</span><span class="o">.</span><span class="n">pos</span>
    <span class="n">springpos</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">pA</span><span class="p">,</span> <span class="n">pB</span><span class="p">])</span>

<span class="n">springs</span><span class="o">.</span><span class="n">geometry</span> <span class="o">=</span> <span class="n">LineSegmentsGeometry</span><span class="p">(</span><span class="n">positions</span><span class="o">=</span><span class="n">springpos</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>When the Lagrange multiplier becomes very large, the Jacobian matrix used in the Newton solver becomes numerically ill-conditioned.</p></li>
</ol>
<p>Error <strong>Newton did not converge</strong> exist.</p>
<p>We increase the tolerance and max. iteration to <em>1e-9</em> and <em>20</em>. And slow down the video <em>sleep(0.3)</em></p>
<p>Finally we get:</p>
<video width="600" controls>
  <source src="_static/ms_la_con.mp4" type="video/mp4">
</video>
<p>Obviously, the constraint connection lines maintain a fixed length, regardless of how the mass blocks move. The segments do not stretch or contract noticeably like a soft spring, making the connections appear as metal rods.</p>
</section>
<hr class="docutils" />
<section id="model-4-spinning-top">
<h2>Model 4 : Spinning top<a class="headerlink" href="#model-4-spinning-top" title="Permalink to this heading">#</a></h2>
<p><em>Complete code – ‘bind_speed.cpp’ and ‘spinning.ipynb.ipynb’</em></p>
<ol class="arabic simple">
<li><p>First, we need to add initial velocity for the masses. So we can modify <code class="docutils literal notranslate"><span class="pre">bind_speed.cpp</span></code></p></li>
</ol>
<p>Attention: ‘vel’ has already been defined in hpp file, so we can define the property directly.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">//add initial velocity</span>
<span class="w">      </span><span class="p">.</span><span class="n">def_property</span><span class="p">(</span><span class="s">&quot;vel&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="c1">// getter(return array&lt;double, 3&gt; as output)</span>
<span class="w">                    </span><span class="p">[](</span><span class="n">Mass</span><span class="o">&lt;</span><span class="mi">3</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">m</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">py</span><span class="o">::</span><span class="n">cast</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="o">&gt;</span><span class="p">{</span><span class="n">m</span><span class="p">.</span><span class="n">vel</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="n">vel</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="n">vel</span><span class="p">(</span><span class="mi">2</span><span class="p">)});</span><span class="w"> </span><span class="p">},</span>
<span class="w">                    </span><span class="c1">// setter (accept array&lt;double, 3&gt; as input)</span>
<span class="w">                    </span><span class="p">[](</span><span class="n">Mass</span><span class="o">&lt;</span><span class="mi">3</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="o">&gt;</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="n">vel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Vec</span><span class="o">&lt;</span><span class="mi">3</span><span class="o">&gt;</span><span class="p">{</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]};</span><span class="w"> </span><span class="p">});</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Then we define the geometry in <code class="docutils literal notranslate"><span class="pre">spinning.ipynb</span></code></p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># geometry model</span>
<span class="n">R</span> <span class="o">=</span> <span class="mf">0.5</span>           <span class="c1"># radius of the base triangle (m)</span>
<span class="n">H</span> <span class="o">=</span> <span class="mf">1.0</span>           <span class="c1"># height (m)</span>
<span class="n">OMEGA</span> <span class="o">=</span> <span class="mf">20.0</span>      <span class="c1"># angular velocity (rad/s)</span>
<span class="n">L_BASE</span> <span class="o">=</span> <span class="n">R</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1"># length of the base triangle sides</span>

<span class="c1"># fixed point at origin</span>
<span class="n">f1</span> <span class="o">=</span> <span class="n">mss</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Fix</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span> 

<span class="c1"># 3 masses as the base triangle vertices</span>
<span class="n">m_mass</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">phi1</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">phi2</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">3</span>
<span class="n">phi3</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">3</span>

<span class="c1"># initial positions of the 3 masses</span>
<span class="n">mA</span> <span class="o">=</span> <span class="n">mss</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Mass</span><span class="p">(</span><span class="n">m_mass</span><span class="p">,</span> <span class="p">(</span><span class="n">R</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">phi1</span><span class="p">),</span> <span class="n">R</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">phi1</span><span class="p">),</span> <span class="n">H</span><span class="p">)))</span>
<span class="n">mB</span> <span class="o">=</span> <span class="n">mss</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Mass</span><span class="p">(</span><span class="n">m_mass</span><span class="p">,</span> <span class="p">(</span><span class="n">R</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">phi2</span><span class="p">),</span> <span class="n">R</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">phi2</span><span class="p">),</span> <span class="n">H</span><span class="p">)))</span>
<span class="n">mC</span> <span class="o">=</span> <span class="n">mss</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Mass</span><span class="p">(</span><span class="n">m_mass</span><span class="p">,</span> <span class="p">(</span><span class="n">R</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">phi3</span><span class="p">),</span> <span class="n">R</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">phi3</span><span class="p">),</span> <span class="n">H</span><span class="p">)))</span>


<span class="c1"># set initial speed</span>
<span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">mss</span><span class="o">.</span><span class="n">masses</span><span class="p">:</span>
    <span class="c1"># get current position </span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">m</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">m</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> 
    
    <span class="c1"># seperate speed</span>
    <span class="n">vx</span> <span class="o">=</span> <span class="o">-</span><span class="n">OMEGA</span> <span class="o">*</span> <span class="n">y</span>
    <span class="n">vy</span> <span class="o">=</span> <span class="n">OMEGA</span> <span class="o">*</span> <span class="n">x</span>
    <span class="n">vz</span> <span class="o">=</span> <span class="mf">0.0</span>
    
    <span class="c1"># input vel</span>
    <span class="n">m</span><span class="o">.</span><span class="n">vel</span> <span class="o">=</span> <span class="p">(</span><span class="n">vx</span><span class="p">,</span> <span class="n">vy</span><span class="p">,</span> <span class="n">vz</span><span class="p">)</span>


<span class="c1"># add distance constraints</span>
<span class="c1"># fix-mass</span>
<span class="n">L_TIP</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">R</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">H</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="n">mss</span><span class="o">.</span><span class="n">addDistanceConstraint</span><span class="p">(</span><span class="n">DistanceConstraint</span><span class="p">(</span><span class="n">f1</span><span class="p">,</span> <span class="n">mA</span><span class="p">,</span> <span class="n">L_TIP</span><span class="p">))</span>
<span class="n">mss</span><span class="o">.</span><span class="n">addDistanceConstraint</span><span class="p">(</span><span class="n">DistanceConstraint</span><span class="p">(</span><span class="n">f1</span><span class="p">,</span> <span class="n">mB</span><span class="p">,</span> <span class="n">L_TIP</span><span class="p">))</span>
<span class="n">mss</span><span class="o">.</span><span class="n">addDistanceConstraint</span><span class="p">(</span><span class="n">DistanceConstraint</span><span class="p">(</span><span class="n">f1</span><span class="p">,</span> <span class="n">mC</span><span class="p">,</span> <span class="n">L_TIP</span><span class="p">))</span>

<span class="c1"># inside mass</span>
<span class="n">mss</span><span class="o">.</span><span class="n">addDistanceConstraint</span><span class="p">(</span><span class="n">DistanceConstraint</span><span class="p">(</span><span class="n">mA</span><span class="p">,</span> <span class="n">mB</span><span class="p">,</span> <span class="n">L_BASE</span><span class="p">))</span>
<span class="n">mss</span><span class="o">.</span><span class="n">addDistanceConstraint</span><span class="p">(</span><span class="n">DistanceConstraint</span><span class="p">(</span><span class="n">mB</span><span class="p">,</span> <span class="n">mC</span><span class="p">,</span> <span class="n">L_BASE</span><span class="p">))</span>
<span class="n">mss</span><span class="o">.</span><span class="n">addDistanceConstraint</span><span class="p">(</span><span class="n">DistanceConstraint</span><span class="p">(</span><span class="n">mC</span><span class="p">,</span> <span class="n">mA</span><span class="p">,</span> <span class="n">L_BASE</span><span class="p">))</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Finally, we can get the result:</p></li>
</ol>
<p>Obviously, at first, the Kreisel rotate fast and with decreasing of energy, the spinning top falls down.</p>
<video width="600" controls>
  <source src="_static/spinning.mp4" type="video/mp4">
</video>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="ex20.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Exercise 20.4.1</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#model-1-extend-the-double-pendulum-to-a-chain">Model 1 : Extend the double-pendulum to a chain</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chain-with-spring">Chain with spring</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chain-with-constaint">Chain with constaint</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#model-2-crane-structure-and-vibration">Model 2 :  Crane Structure and Vibration</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#model-3-replace-the-springs-of-the-double-pendulum-by-distance-constraints">Model 3 : Replace the Springs of the Double-Pendulum by Distance Constraints</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#model-4-spinning-top">Model 4 : Spinning top</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Fan Xiaowen, Immaculada Fernández, Zeynep Yanmaz, Ahmad Zulafqar
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>